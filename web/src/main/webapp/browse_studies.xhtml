<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich" xmlns:s="http://jboss.com/products/seam/taglib"
                template="layout/local-template.xhtml">

    <ui:define name="body">

        <div>
            <img alt="browse studies" src="img/table_images/browse_studies_header.png"/>

            <p align="center" class="static_info_text">
                <h:outputText styleClass="dynamic_info_text" value="#{browseStudyBeanModel.rowCount}"/>
                public studies containing
                <h:outputText styleClass="dynamic_info_text" value=" #{browseStudyBeanModel.totalAssays}"/>
                assays

            </p>
        </div>


        <h:form>
            <!--<a4j:region>-->
            <rich:datascroller for="studies" renderIfSinglePage="false"/>
            <rich:spacer height="5"/>
            <rich:dataTable
                    width="95%" border="0" align="center"
                    id="studies"
                    rows="20"
                    cellpadding="0" cellspacing="0"
                    var="bean"
                    value="#{browseStudyBeanModel.itemList}">

                <f:facet name="header">
                    <rich:columnGroup>

                        <rich:column width="10%" styleClass="tableheader_investigation">
                            <h:outputText value="Investigation"/>
                        </rich:column>

                        <rich:column colspan="4" width="45%" styleClass="tableheader_study">
                            <h:outputText value="Study"/>
                        </rich:column>

                        <rich:column colspan="4" width="45%" styleClass="tableheader_assay">
                            <h:outputText value="Assay"/>
                        </rich:column>

                        <rich:column breakBefore="true" width="10%" styleClass="tableheader_investigation">
                            <h:outputText value="Acc"/>
                        </rich:column>

                        <rich:column width="8%" styleClass="tableheader_study">
                            <h:outputText value="Acc"/>
                        </rich:column>

                        <rich:column width="25%" styleClass="tableheader_study">
                            <h:outputText value="Title"/>
                        </rich:column>

                        <rich:column width="15%" styleClass="tableheader_study">
                            <h:outputText value="Organism"/>
                        </rich:column>

                        <rich:column width="10%" styleClass="tableheader_study">
                            <h:outputText value="Factor"/>
                        </rich:column>

                        <rich:column width="15%" styleClass="tableheader_assay">
                            <h:outputText value="Measurement"/>
                        </rich:column>

                        <rich:column width="13%" styleClass="tableheader_assay">
                            <h:outputText value="Technology"/>
                        </rich:column>

                        <rich:column width="4%" styleClass="tableheader_assay">
                            <h:outputText value="#"/>
                        </rich:column>

                        <!--<rich:column width="13%" styleClass="tableheader">-->
                        <!--<h:outputText value="Acc"/>-->
                        <!--</rich:column>-->

                    </rich:columnGroup>
                </f:facet>

                <rich:column styleClass="datacolumn">
                    <h:outputText value="#{bean.investigation}"/>
                </rich:column>

                <rich:column styleClass="datacolumn">
                    <!--<h:outputText value="#{bean.acc}"/>-->
                    <h:outputLink value="study.seam?studyId=#{bean.acc}">
                        <h:outputText value="#{bean.acc}"/>
                        <!--<s:conversationName value="ViewStudy"/>-->
                    </h:outputLink>

                </rich:column>

                <rich:column styleClass="datacolumn">
                    <h:outputText value="#{bean.title}"/>
                </rich:column>

                <rich:column styleClass="datacolumn">
                    <h:outputText value="#{bean.organism}"/>
                </rich:column>

                <rich:column styleClass="datacolumn">
                    <h:outputText value="#{bean.factor}"/>
                </rich:column>


                <rich:column colspan="3" styleClass="datacolumn">
                    <rich:dataTable width="100%" styleClass="table_assay" align="center"
                                    value="#{bean.assayBeans}" var="assayBean" style="table-layout:fixed">
                        <rich:column width="47%" styleClass="datacolumn_internal">
                            <h:outputText value="#{assayBean.endPoint}"/>
                        </rich:column>
                        <rich:column width="42%" styleClass="datacolumn_internal">
                            <h:outputText value="#{assayBean.technology}"/>
                        </rich:column>
                        <rich:column width="11%" styleClass="datacolumn_internal">
                            <h:outputText value="#{assayBean.count}"/>
                        </rich:column>
                    </rich:dataTable>

                </rich:column>

            </rich:dataTable>
            <!--</a4j:region>-->
        </h:form>

    </ui:define>

</ui:composition>
